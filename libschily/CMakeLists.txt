PROJECT (LIBSCHILY)
INCLUDE_DIRECTORIES(../include ../libhfs_iso . ../cdrecord)
#EXECUTE_PROCESS(COMMAND gcc -I../include -I../inc -o ../inc/align_test ../inc/align_test.c)
#EXECUTE_PROCESS(COMMAND ../inc/align_test OUTPUT_FILE ../include/align.h)
#EXECUTE_PROCESS(COMMAND gcc -I../include -I../inc -o ../inc/avoffset.c ../inc/avoffset.c)
#EXECUTE_PROCESS(COMMAND ../inc/avoffset OUTPUT_FILE ../include/avoffset.h)
EXECUTE_PROCESS(COMMAND gcc -I${CMAKE_CURRENT_SOURCE_DIR}/../include -I${CMAKE_CURRENT_SOURCE_DIR}/../inc -o ${CMAKE_CURRENT_SOURCE_DIR}/../inc/align_test ${CMAKE_CURRENT_SOURCE_DIR}/../inc/align_test.c)
EXECUTE_PROCESS(COMMAND ${CMAKE_CURRENT_SOURCE_DIR}/../inc/align_test OUTPUT_FILE ${CMAKE_CURRENT_SOURCE_DIR}/../include/align.h)
EXECUTE_PROCESS(COMMAND gcc -I${CMAKE_CURRENT_SOURCE_DIR}/../include -I${CMAKE_CURRENT_SOURCE_DIR}/../inc -o ${CMAKE_CURRENT_SOURCE_DIR}/../inc/avoffset ${CMAKE_CURRENT_SOURCE_DIR}/../inc/avoffset.c)
EXECUTE_PROCESS(COMMAND ${CMAKE_CURRENT_SOURCE_DIR}/../inc/avoffset OUTPUT_FILE ${CMAKE_CURRENT_SOURCE_DIR}/../include/avoffset.h)
ADD_DEFINITIONS(-DVA_LIST_IS_ARRAY)

SET(LIBSCHILY_SRCS astoi.c astoll.c astoull.c breakline.c cmpbytes.c cmpnullbytes.c comerr.c cvt.c error.c fconv.c fexec.c fillbytes.c findbytes.c findline.c format.c getargs.c getav0.c getdomainname.c geterrno.c getfp.c gethostid.c gethostname.c getpagesize.c handlecond.c jsprintf.c jssnprintf.c jssprintf.c match.c matchl.c movebytes.c printf.c raisecond.c rename.c saveargs.c serrmsg.c seterrno.c setfp.c snprintf.c spawn.c sprintf.c strcatl.c strdup.c streql.c strtod.c swabbytes.c usleep.c stdio/cvmod.c stdio/dat.c stdio/fcons.c stdio/fcons64.c stdio/fdown.c stdio/fdup.c stdio/fdup64.c stdio/ffileread.c stdio/ffilewrite.c stdio/fgetline.c stdio/fgetstr.c stdio/file_raise.c stdio/fileclose.c stdio/fileluopen.c stdio/fileluopen64.c stdio/filemopen.c stdio/filemopen64.c stdio/fileopen.c stdio/fileopen64.c stdio/filepos.c stdio/filepos64.c stdio/fileread.c stdio/filereopen.c stdio/filereopen64.c stdio/fileseek.c stdio/fileseek64.c stdio/filesize.c stdio/filesize64.c stdio/filestat.c stdio/filestat64.c stdio/filewrite.c stdio/flag.c stdio/flush.c stdio/fpipe.c stdio/niread.c stdio/niwrite.c stdio/nixread.c stdio/nixwrite.c stdio/openfd.c stdio/openfd64.c stdio/peekc.c )

ADD_LIBRARY (schily STATIC ${LIBSCHILY_SRCS})
